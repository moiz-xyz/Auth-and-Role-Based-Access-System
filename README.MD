## âœ… `README.md` â€” for Your Role-Based Auth System

```markdown
# ğŸ” Role-Based Authentication System (Admin & User Access Control)

Welcome to my **Role-Based Authentication System** â€” a secure and scalable user management backend built with **Node.js**, **Express**, and **JWT**. This system is designed for projects where access control between **Admin** and **User** roles is a must.

---

## ğŸš€ Features

- âœ… **JWT-Based Authentication**
- ğŸ”‘ **Role-Based Authorization** (Admin & User separation)
- ğŸ”„ **Separate Login Routes** for Admin and User
- ğŸ§± Modular Code Structure (Middleware, Controllers, Routes)
- ğŸ” Protected API Routes using Custom Middleware
- ğŸ§ª Easy to test with Postman or integrate into frontend

---

## ğŸ§  How It Works

This system is designed with **separation of access** in mind:

### ğŸ‘¤ User Flow:
- A user signs up or logs in via `/api/auth/login`
- Receives a **JWT** token with role `"user"`
- Can access only user-specific routes (e.g., profile, orders)

### ğŸ›¡ï¸ Admin Flow:
- Admin logs in via `/api/admin/login`
- Receives a **JWT** token with role `"admin"`
- Can access admin-only routes like:
  - `GET /api/admin/users/all` â†’ Fetch all users
  - `POST /api/admin/products` â†’ Manage products
- Protected by `verifyToken`, `requireAdmin`, and an optional `x-admin-access-key` header

---

## ğŸ§± Tech Stack

- **Node.js** + **Express**
- **MongoDB** with Mongoose
- **JWT** for token generation
- **BcryptJS** for password hashing
- **dotenv** for config management

---

## ğŸ“ Project Structure

```
ğŸ“¦ project-root
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ loginUser.js
â”‚   â”‚   â””â”€â”€ loginAdmin.js
â”‚   â””â”€â”€ admin/
â”‚       â””â”€â”€ userController.js
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ verifyToken.js
â”‚   â”œâ”€â”€ requireAdmin.js
â”‚   â””â”€â”€ checkAdminHeader.js
â”œâ”€â”€ models/
â”‚   â””â”€â”€ User.js
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ user/
â”‚   â””â”€â”€ admin/
â”œâ”€â”€ .env
â”œâ”€â”€ index.js
```

---

## ğŸ” Security Practices

- Tokens contain `role` info and expire in 1 hour
- Admin routes require role verification + optional secret header
- Passwords are hashed with `bcryptjs`
- Sensitive config handled using `.env`

---

## ğŸ“Œ Setup Instructions

```bash
git clone https://github.com/your-username/role-based-auth-system
cd role-based-auth-system
npm install
npm start
```

Create a `.env` file with:

```
PORT = your port
MONGO_URI=your_mongodb_connection
JWT_SECRET=your_jwt_secret_key
EMAIL_USER=you@example.com
ADMIN_ACCESS_KEY=your_custom_admin_key
```

---

## ğŸ“¬ Want to Integrate in Frontend?

This backend is perfect for React, Next.js, Vue, or any SPA.  
Just store the token after login and use `jwt-decode` to read the role for UI control.

---

## ğŸ’¬ Example JWT Payload

```json
{
  "id": "user123",
  "role": "admin",
  "iat": 1720000000,
  "exp": 1720003600
}
```

---

## ğŸ¤ Contributing

Pull requests and feedback are welcome! If you'd like to add testing, documentation, or frontend integration, feel free to fork and build on top of this system.

---

## ğŸ“ƒ License

MIT â€” feel free to use, modify, and share.

---

## ğŸ”¥ Built with â¤ï¸ by Abdul Moiz
```

---
